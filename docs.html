<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Puppet Community by puppet-community</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Puppet Community</h1>
        <h2>Modules and tooling for and by the Puppet Community.</h2>
        <a href="https://github.com/puppet-community" class="button"><small>Follow me on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>This organisation is trying to synchronise certain community efforts. The idea is to have a namespace, maintained by the community with no official relation to Puppet Labs, where we can develop our modules and tooling.</p>

<h2>
<a name="names" class="anchor" href="#names"><span class="octicon octicon-link"></span></a>Rationale</h2>

<p>Puppet community has two names. On github we are have the puppet-communty namespace. On the puppet forge we have the puppet namespace.</p>

<h2>
<a name="who" class="anchor" href="#who"><span class="octicon octicon-link"></span></a>Who can join?</h2>

<p>Anyone can participate in puppet-community. We currently have four levels of participation, orchestrated by github teams.</p>
<ul>
<li><strong>Everyone</strong> with a github account can submit pull requests and review code.</li>
<li><strong>Module contributors</strong> have commit/merge access to a subset of the modules in puppet-community, usually the modules they maintained before joining puppet-community.</li>
<li><strong>Collaborators</strong> have commit/merge access to a subset of the modules in puppet-community.</li>
<li><strong>Administsrators</strong> have the authorization to create new repositories and publish modules to the forge under the puppet namespace.</li>
</ul>

<h2>
<a name="migrating" class="anchor" href="#migrating"><span class="octicon octicon-link"></span></a>Migrating a module to puppet-community</h2>

<p>The general flow is toâ€¦</p>

<ul>
  <li>Ask one of the Administrators to add you to the modules/admin team.</li>

  <li>At that point you can <a href="https://help.github.com/articles/transferring-a-repository/">transfer your own repository</a></li>

  <li>If migrating a module from puppetlabs, re-enable github issues.</li>

  <li>Verify that all webhooks except travis are disabled.</li>

  <li>Release a 999.999.999 version of your modules to the forge, so everyone knows to stop using it.</li>

  <li>Release a copy of your module to the 'puppet' forge account.</li>
</ul>

<p>If you have many modules you wish to migrate, this will be cumbersome. In this case we will generally create a separate group and give you administrator access to speed things up.</p>

<h2>
<a name="publishing" class="anchor" href="#publishing"><span class="octicon octicon-link"></span></a>Publishing a module</h2>

<p>Forge publishing is handled by travis and puppet-blacksmith.</p>
<p>To enable a module to be pushed, copy the 'deploy' block from puppetcommunity-extlib travis.yml.</p>
<p>You will also need to manually define your travis testing matrix with respect to puppet version as in the extlib module. This prevents the deploy hook from running once for each version of puppet defined in your testing.</p>
<p>Travis needs to be aware of the rename, this can be done by pushing a single commit'</p>
<p>The secure line is unique per repository. To get a secure line:</p>
<p>Ask an admin (or submit a PR) to add your module to the list <a href="https://github.com/puppet-community/plumbing/blob/master/share/modules">here.</a> then the admin will run the encrypt_travis.sh script and push a new version of <a href="https://github.com/puppet-community/plumbing/blob/master/share/travis_secrets">this</a> which you can then copy and paste your travis secure line from.</p>
<p>If the forge puppet password is changed, an admin can run encrypt_travis.sh and the modules can bring in the new password on their own schedule.</p>

<br>
<p>Gem publishing is handled similarly, except there is not a unified user. Each gem owner is responsible for their own .travis.yml</p>

        </section>

        <aside id="sidebar">


          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
